# -------------------------------------------------------------------------- #
# Quartus Settings File for Tiny Thumb-1 Core on DE10-Nano
# Board: Terasic DE10-Nano
# Device: Cyclone V SE 5CSEBA6U23I7
# -------------------------------------------------------------------------- #

set_global_assignment -name FAMILY "Cyclone V"
set_global_assignment -name DEVICE 5CSEBA6U23I7
set_global_assignment -name TOP_LEVEL_ENTITY de10nano_top
set_global_assignment -name ORIGINAL_QUARTUS_VERSION 23.1
set_global_assignment -name PROJECT_CREATION_TIME_DATE "12:00:00 DECEMBER 24, 2025"
set_global_assignment -name LAST_QUARTUS_VERSION "25.1std.0 Lite Edition"
set_global_assignment -name PROJECT_OUTPUT_DIRECTORY output_files

# -------------------------------------------------------------------------- #
# Source Files
# -------------------------------------------------------------------------- #
set_global_assignment -name SYSTEMVERILOG_FILE de10nano_top.sv
set_global_assignment -name SYSTEMVERILOG_FILE ../core/tiny_thumb_core.sv
set_global_assignment -name SYSTEMVERILOG_FILE tiny_mem_model_fpga.sv

# Program memory initialization file
set_global_assignment -name SOURCE_FILE prog.hex

# -------------------------------------------------------------------------- #
# Compilation Settings
# -------------------------------------------------------------------------- #
set_global_assignment -name MIN_CORE_JUNCTION_TEMP "-40"
set_global_assignment -name MAX_CORE_JUNCTION_TEMP 100
set_global_assignment -name ERROR_CHECK_FREQUENCY_DIVISOR 256
set_global_assignment -name PARTITION_NETLIST_TYPE SOURCE -section_id Top
set_global_assignment -name PARTITION_FITTER_PRESERVATION_LEVEL PLACEMENT_AND_ROUTING -section_id Top
set_global_assignment -name PARTITION_COLOR 16764057 -section_id Top

# -------------------------------------------------------------------------- #
# Pin & Location Assignments - Clock
# -------------------------------------------------------------------------- #
set_location_assignment PIN_V11 -to FPGA_CLK1_50
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to FPGA_CLK1_50

# -------------------------------------------------------------------------- #
# Pin & Location Assignments - Push Buttons (Active Low)
# -------------------------------------------------------------------------- #
set_location_assignment PIN_AH17 -to KEY[0]
set_location_assignment PIN_AH16 -to KEY[1]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to KEY[0]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to KEY[1]

# -------------------------------------------------------------------------- #
# Pin & Location Assignments - Slide Switches
# -------------------------------------------------------------------------- #
set_location_assignment PIN_Y24 -to SW[0]
set_location_assignment PIN_W24 -to SW[1]
set_location_assignment PIN_W21 -to SW[2]
set_location_assignment PIN_W20 -to SW[3]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to SW[0]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to SW[1]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to SW[2]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to SW[3]

# -------------------------------------------------------------------------- #
# Pin & Location Assignments - LEDs
# -------------------------------------------------------------------------- #
set_location_assignment PIN_W15 -to LED[0]
set_location_assignment PIN_AA24 -to LED[1]
set_location_assignment PIN_V16 -to LED[2]
set_location_assignment PIN_V15 -to LED[3]
set_location_assignment PIN_AF26 -to LED[4]
set_location_assignment PIN_AE26 -to LED[5]
set_location_assignment PIN_Y16 -to LED[6]
set_location_assignment PIN_AA23 -to LED[7]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[0]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[1]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[2]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[3]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[4]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[5]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[6]
set_instance_assignment -name IO_STANDARD "3.3-V LVTTL" -to LED[7]

# -------------------------------------------------------------------------- #
# Timing Constraints
# -------------------------------------------------------------------------- #
set_global_assignment -name SDC_FILE de10nano_top.sdc

# -------------------------------------------------------------------------- #
# Synthesis and Fitter Settings
# -------------------------------------------------------------------------- #
set_global_assignment -name OPTIMIZATION_MODE "AGGRESSIVE PERFORMANCE"
set_global_assignment -name PHYSICAL_SYNTHESIS_COMBO_LOGIC ON
set_global_assignment -name PHYSICAL_SYNTHESIS_REGISTER_DUPLICATION ON
set_global_assignment -name PHYSICAL_SYNTHESIS_REGISTER_RETIMING ON
set_global_assignment -name ROUTER_TIMING_OPTIMIZATION_LEVEL MAXIMUM
set_global_assignment -name FITTER_EFFORT "STANDARD FIT"

# Use on-chip memory blocks for the memory
set_global_assignment -name AUTO_RAM_RECOGNITION ON
set_global_assignment -name AUTO_RAM_TO_LCELL_CONVERSION OFF

# -------------------------------------------------------------------------- #
# SignalTap II (Optional - uncomment to enable logic analyzer)
# -------------------------------------------------------------------------- #
# set_global_assignment -name ENABLE_SIGNALTAP ON
# set_global_assignment -name USE_SIGNALTAP_FILE stp1.stp

# -------------------------------------------------------------------------- #
# End of Settings
# -------------------------------------------------------------------------- #
set_instance_assignment -name PARTITION_HIERARCHY root_partition -to | -section_id Top
